services:
  wisedatadb:
    image: bitnami/postgresql:latest
    container_name: wisedatadb
    user: root
    environment:
      POSTGRESQL_USERNAME: ${POSTGRESQL_USERNAME}
      POSTGRESQL_PASSWORD: ${POSTGRESQL_PASSWORD}
      POSTGRESQL_DATABASE: ${POSTGRESQL_DATABASE}
      POSTGRESQL_ENABLE_TLS: ${POSTGRESQL_ENABLE_TLS}
      POSTGRESQL_TLS_CERT_FILE: ${POSTGRESQL_TLS_CERT_FILE}
      POSTGRESQL_TLS_KEY_FILE: ${POSTGRESQL_TLS_KEY_FILE}
    volumes:
      - ./bitnami/postgresql:/bitnami/postgresql
      - ./certificates/server.crt:/app/certificates/server.crt
      - ./certificates/server.key:/app/certificates/server.key
    ports:
      - "5432:5432"
    networks:
      - wisedata_network

networks:
  wisedata_network:
    